(this.webpackJsonporders=this.webpackJsonporders||[]).push([[0],{46:function(e,t,n){e.exports=n(83)},55:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),l=n.n(c),o=n(7),u=n(25),i=n(44),s=n(21),m=n(13),d={emailData:{},allProducts:[],carts:[],token:"",isLogged:!1,userData:[],admin:!1,orders:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return t.payload.map((function(e){e.count=1})),Object(m.a)({},e,{allProducts:t.payload});case"SET_TO_LIST":var n=e.carts.filter((function(e){return e.id==t.payload.id}));return n.length>0?(alert("\u0645\u0636\u0627\u0641 \u0628\u0627\u0644\u0641\u0639\u0644"),Object(m.a)({},e)):Object(m.a)({},e,{carts:e.carts.concat(t.payload)});case"SAVE_CARTS":return Object(m.a)({},e,{carts:t.payload});case"SAVE_TOKEN":var a={username:t.emailData.name,password:t.emailData.password};return Object(m.a)({},e,{token:t.payload,isLogged:!0,emailData:a});case"CHECK":return Object(m.a)({},e,{isLogged:!0,token:t.payload});case"REMOVE_LOGGED":return Object(m.a)({},e,{isLogged:!1,admin:!1});case"USER_DATA":return Object(m.a)({},e,{userData:t.payload,isLogged:!0});case"CHANGE_STATE":return Object(m.a)({},e,{admin:!0,isLogged:!1});case"DELETE_ITEMS":return Object(m.a)({},e,{carts:e.carts.filter((function(e){return e!==t.payload}))});case"SET_ORDERS":return Object(m.a)({},e,{orders:t.payload});case"DELETE_ORDER":return Object(m.a)({},e,{carts:[]});default:return e}},f=(n(55),n(3)),E=n.n(f),h=n(16),v=n(4),b=n(5),g=n(8),O=n(6),y=n(9),j=(n(57),n(22)),k=(n(58),n(18)),w=n.n(k),C="http://fastorder.pythonanywhere.com/",S=function(){return function(){var e=Object(h.a)(E.a.mark((function e(t,n){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(C,"Products/"));case 2:a=e.sent;try{r=a.data,t(D(r))}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},D=function(e){return{type:"GET_DATA",payload:e}},T=function(e){return{type:"SET_TO_LIST",payload:e}},N=function(e){return{type:"DELETE_ITEMS",payload:e}},x=function(e,t,n){return{type:"SAVE_TOKEN",payload:e,emailData:{name:t,password:n}}},A=function(){return function(e,t){localStorage.removeItem("token"),localStorage.removeItem("cartsData"),e(_()),window.location.href="/"}},_=function(){return{type:"REMOVE_LOGGED"}},I=function(e){return{type:"USER_DATA",payload:e}},L=function(){return{type:"CHANGE_STATE"}},P=function(e){return{type:"CHECK",payload:e}},R=function(){return{type:"DELETE_ORDER"}},M=function(){return function(){var e=Object(h.a)(E.a.mark((function e(t,n){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(C,"poll/poll/"));case 2:a=e.sent;try{r=a.data,t(G(r))}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},G=function(e){return{type:"SET_ORDERS",payload:e}},V=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h5",null," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 :")),r.a.createElement("input",{type:"email",placeholder:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0623\u0644\u0643\u062a\u0631\u0648\u0646\u064a",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"password",placeholder:"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u064a",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{onClick:function(){return e.props.login(e.state.username,e.state.password)}},"\u062f\u062e\u0648\u0644")))}}]),t}(r.a.Component),U=Object(o.b)(null,(function(e){return{login:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(E.a.mark((function n(a,r){var c,l;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.post("".concat(C,"auth/jwt/create/"),{username:e,password:t});case 2:c=n.sent;try{l=c.data.access,localStorage.setItem("token",l),a(x(l,e,t)),console.log(r()),window.location.href="admin1"===e?"/":"/home"}catch(o){console.log(o)}case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))}}}))(V),J=(n(75),n(20)),H=n(14),K=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={item:"",price:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getOrders()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin"},r.a.createElement("div",{className:"navbar-admin"},r.a.createElement("div",{className:"logout-admin",onClick:function(){return e.props.logout()}},r.a.createElement(J.a,{icon:H.c})),r.a.createElement("div",null,r.a.createElement("h5",null,"ADMIN"))),r.a.createElement("div",{className:"cat-edit"},this.props.allProducts.map((function(t){return r.a.createElement("div",{className:"cats",key:Math.random()},r.a.createElement("p",{className:"name"},t.item),r.a.createElement("p",{className:"price"},t.price),r.a.createElement(J.a,{icon:H.e,onClick:function(){return e.props.deleteProduct(t.id)}}))}))),r.a.createElement("div",{className:"cat-add"},r.a.createElement("h4",null,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",name:"item",value:this.state.item,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"number",placeholder:"\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062a\u062c",name:"price",value:this.state.price,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{onClick:function(){return e.props.addProduct(e.state)}},"\u0627\u0636\u0627\u0641\u0629"))),r.a.createElement("div",{className:"orders"},0===this.props.orders.length?r.a.createElement("h2",null,"loading"):null,this.props.orders.map((function(t){return r.a.createElement("div",{className:"order",key:Math.random()},r.a.createElement("div",{className:"order-header"},r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.time)),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0627\u0644\u0635\u0646\u0641"),r.a.createElement("th",null,"\u0627\u0644\u0639\u062f\u062f"),r.a.createElement("th",null,"\u0627\u0644\u0633\u0639\u0631"),r.a.createElement("th",null,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0643\u0644\u064a"))),r.a.createElement("tbody",null,t.choices.map((function(e){return r.a.createElement("tr",{key:Math.random()},r.a.createElement("td",null,e.item),r.a.createElement("td",null,e.count),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.price*e.count))})))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){return e.props.deleteOrder(t.id)}},"\u0645\u0633\u062d")))}))))}}]),t}(r.a.Component),B=Object(o.b)((function(e){return{orders:e.orders,allProducts:e.allProducts}}),(function(e){return{getOrders:function(){return e(M())},logout:function(){return e(A())},deleteOrder:function(t){return e(function(e){return function(){var t=Object(h.a)(E.a.mark((function t(n,a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.delete("".concat(C,"poll/poll/").concat(e));case 2:t.sent;try{n(M())}catch(a){console.log(a)}case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},addProduct:function(t){return e(function(e){return function(){var t=Object(h.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.post("".concat(C,"Products/"),{item:e.item,price:e.price,count:1});case 2:t.sent;try{n(S())}catch(a){console.log(a)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteProduct:function(t){return e(function(e){return function(){var t=Object(h.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.delete("".concat(C,"Products/").concat(e));case 2:t.sent;try{n(S())}catch(a){console.log(a)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(K),W=(n(78),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement("h4",null,this.props.data.username)),r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/home"},r.a.createElement(J.a,{icon:H.a})),!0===this.props.admin?r.a.createElement(s.b,{to:"/home/orders"},r.a.createElement(J.a,{icon:H.d})):null,!0===this.props.admin?null:r.a.createElement(s.b,{to:"/carts"},r.a.createElement(J.a,{icon:H.b}),r.a.createElement("span",null,this.props.carts.length)),r.a.createElement("div",{onClick:function(){return e.props.logout()}},r.a.createElement(J.a,{icon:H.c}))))}}]),t}(a.Component)),z=Object(o.b)((function(e){return{carts:e.carts,data:e.userData,admin:e.admin}}),(function(e){return{logout:function(){return e(A())}}}))(W),F=n(19),$=(n(80),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"adminOrders")}}]),t}(a.Component)),q=(n(81),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"real-products"},0===this.props.allProducts.length?r.a.createElement("div",{className:"parent-animation"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):null,this.props.allProducts.map((function(t){return r.a.createElement("div",{className:"product",key:Math.random()},r.a.createElement("div",null,r.a.createElement("h4",null,t.item),r.a.createElement("p",null,t.price)),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629",name:t.item,defaultValue:t.count,onChange:function(n){return e.props.newChange(t,n)}}),r.a.createElement("button",{onClick:function(){return e.props.addToList(t)}},"\u0627\u0636\u0627\u0641\u0629")))})))}}]),t}(a.Component)),Q=Object(o.b)((function(e){return{allProducts:e.allProducts}}),(function(e){return{newChange:function(t,n){return e(function(e,t){return function(n,a){e.count=parseInt(t.target.value)}}(t,n))},addToList:function(t){return e(function(e){return function(t,n){t(T(e));var a=n().carts;localStorage.setItem("cartsData",JSON.stringify(a))}}(t))}}}))(q),X=(n(82),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"carts"},r.a.createElement("div",{className:"products-added"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0627\u0644\u0627\u0633\u0645"),r.a.createElement("th",null,"\u0627\u0644\u0633\u0639\u0631"),r.a.createElement("th",null,"\u0627\u0644\u0639\u062f\u062f"),r.a.createElement("th",null,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0643\u0644\u064a"),r.a.createElement("th",null,"\u0627\u0644\u062a\u0639\u062f\u064a\u0644"))),r.a.createElement("tbody",null,this.props.carts.map((function(t){return r.a.createElement("tr",{key:Math.random()},r.a.createElement("td",null,t.item),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.count),r.a.createElement("td",null,t.price*t.count),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.props.deleteItem(t)}},"\u0645\u0633\u062d")))})))),r.a.createElement("button",{className:"send-order",onClick:function(){return e.props.sendOrder(e.props.carts,e.props.data.username)}},"\u0625\u0631\u0633\u0627\u0644")))}}]),t}(a.Component)),Y=Object(o.b)((function(e){return{carts:e.carts,data:e.userData}}),(function(e){return{deleteItem:function(t){return e(function(e){return function(t,n){t(N(e));var a=n().carts;localStorage.setItem("cartsData",JSON.stringify(a))}}(t))},sendOrder:function(t,n){return e(function(e,t){return function(){var e=Object(h.a)(E.a.mark((function e(n,a){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).toLocaleString(),(c=a().carts).forEach((function(e){delete e.id})),e.next=5,w.a.post("".concat(C,"poll/poll/"),{title:t,choices:c,time:r});case 5:e.sent;try{alert("\u062a\u0645 \u062a\u0648\u0635\u064a\u0644 \u0627\u0644\u0623\u0648\u0631\u062f\u0631 \u0628\u0646\u062c\u0627\u062d"),localStorage.removeItem("cartsData"),n(R())}catch(l){alert("\u062d\u062f\u062b \u062e\u0637\u0623")}case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(0,n))}}}))(X),Z=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).backLogin=function(){window.location.href="/"},n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=8;break}return e.t0=this.props,e.next=4,localStorage.getItem("token");case 4:e.t1=e.sent,e.t0.checkUser.call(e.t0,e.t1),this.props.getUserData(this.props.token),this.props.getProducts();case 8:if(!localStorage.getItem("cartsData")){e.next=15;break}return e.t2=JSON,e.next=12,localStorage.getItem("cartsData");case 12:e.t3=e.sent,t=e.t2.parse.call(e.t2,e.t3),this.props.getCarts(t);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(F.c,null,r.a.createElement("div",{className:"App"},!0===this.props.admin?null:r.a.createElement(F.a,{exact:!0,path:"/",component:U}),!1===this.props.logged?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(F.a,{exact:!0,path:"/home",component:Q}),r.a.createElement(F.a,{path:"/carts",component:Y})),!0===this.props.admin?r.a.createElement(B,null):null,!0===this.props.admin?r.a.createElement(F.a,{exact:!0,path:"/home/orders",component:$}):null))}}]),t}(r.a.Component),ee=Object(o.b)((function(e){return{token:e.token,admin:e.admin,logged:e.isLogged}}),(function(e){return{getProducts:function(){return e(S())},checkUser:function(t){return e(function(e){return function(t,n){t(P(e))}}(t))},getUserData:function(t){return e(function(e){return function(){var t=Object(h.a)(E.a.mark((function t(n,a){var r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("".concat(C,"auth/users/me/"),{headers:{Authorization:"Bearer ".concat(e)}});case 2:r=t.sent;try{c=r.data,n(I(c)),"admin1"===c.username&&n(L())}catch(a){console.log(a)}case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},getCarts:function(t){return e(function(e){return{type:"SAVE_CARTS",payload:e}}(t))}}}))(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=Object(u.c)(p,Object(u.a)(i.a));l.a.render(r.a.createElement(s.a,null,r.a.createElement(o.a,{store:te},r.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.0e99fc41.chunk.js.map